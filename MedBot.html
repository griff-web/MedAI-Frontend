<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedAI Assistant - Professional Medical Intelligence</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/7476/7476971.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            --primary-blue: #2563eb;
            --secondary-blue: #3b82f6;
            --accent-green: #10b981;
            --dark-green: #059669;
            --warning-red: #dc2626;
            --pure-white: #ffffff;
            --off-white: #f8fafc;
            --light-gray: #e2e8f0;
            --medium-gray: #94a3b8;
            --dark-gray: #475569;
            --pure-black: #0f172a;
            --card-bg: rgba(255, 255, 255, 0.98);
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            --shadow-heavy: 0 20px 50px rgba(0, 0, 0, 0.15);
            --border-radius: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
            font-family: 'Inter', sans-serif; 
        }

        body {
            background: linear-gradient(135deg, var(--pure-black) 0%, #1e293b 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated background elements */
        .bg-circle {
            position: absolute;
            border-radius: 50%;
            opacity: 0.05;
            z-index: -1;
        }
        
        .circle-1 {
            width: 300px;
            height: 300px;
            background: var(--primary-blue);
            top: 10%;
            left: 5%;
            animation: float 20s infinite linear;
        }
        
        .circle-2 {
            width: 200px;
            height: 200px;
            background: var(--accent-green);
            bottom: 10%;
            right: 5%;
            animation: float 25s infinite linear reverse;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(20px, 20px) rotate(90deg); }
            50% { transform: translate(0, 40px) rotate(180deg); }
            75% { transform: translate(-20px, 20px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        /* Main Chat Container */
        .chat-container {
            width: 100%;
            max-width: 1000px;
            height: 85vh;
            min-height: 600px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-heavy);
            overflow: hidden;
            position: relative;
            border: 1px solid var(--light-gray);
        }

        /* Header with gradient */
        .header {
            padding: 20px 30px;
            background: linear-gradient(90deg, var(--primary-blue) 0%, var(--accent-green) 100%);
            color: var(--pure-white);
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-green), var(--primary-blue), var(--accent-green));
            animation: slide 3s infinite linear;
        }
        
        @keyframes slide {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-green));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
        }

        .header-text h1 {
            font-size: 1.4rem;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        .header-text p {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.9);
            margin-top: 3px;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 12px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            background-color: var(--accent-green);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }

        /* Chat Area */
        .chat-area {
            flex: 1;
            overflow-y: auto;
            padding: 25px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            background: linear-gradient(to bottom, var(--off-white), #f1f5f9);
            position: relative;
        }

        /* Chat Messages */
        .message {
            max-width: 75%;
            padding: 16px 22px;
            border-radius: 22px;
            font-size: 0.95rem;
            line-height: 1.6;
            animation: fadeInUp 0.4s ease-out;
            position: relative;
            box-shadow: var(--shadow);
            word-wrap: break-word;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            align-self: flex-end;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: var(--pure-white);
            border-bottom-right-radius: 8px;
            border-top-left-radius: 22px;
            border-top-right-radius: 22px;
            border-bottom-left-radius: 22px;
            margin-left: auto;
        }

        .ai-message {
            align-self: flex-start;
            background: var(--pure-white);
            color: var(--pure-black);
            border: 1px solid var(--light-gray);
            border-bottom-left-radius: 8px;
            border-top-left-radius: 22px;
            border-top-right-radius: 22px;
            border-bottom-right-radius: 22px;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .user-icon, .ai-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        .user-icon {
            background: var(--pure-white);
            color: var(--primary-blue);
        }

        .ai-icon {
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-green));
            color: var(--pure-white);
        }

        /* Medical Specific Styling */
        .medical-note {
            background: #f0f9ff;
            border-left: 4px solid var(--primary-blue);
            padding: 12px 16px;
            margin-top: 10px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--dark-gray);
        }

        .medical-note i {
            color: var(--primary-blue);
            margin-right: 8px;
        }

        .symptom-list, .recommendation-list {
            padding-left: 20px;
            margin: 10px 0;
        }

        .symptom-list li, .recommendation-list li {
            margin-bottom: 5px;
        }

        /* Input Area */
        .input-area {
            padding: 20px 30px;
            background: var(--pure-white);
            border-top: 1px solid var(--light-gray);
            display: flex;
            gap: 15px;
            align-items: center;
            position: relative;
        }

        .input-wrapper {
            flex: 1;
            position: relative;
        }

        #user-input {
            width: 100%;
            padding: 18px 25px;
            padding-right: 60px;
            border: 2px solid var(--light-gray);
            border-radius: 50px;
            outline: none;
            font-size: 1rem;
            background: var(--off-white);
            transition: var(--transition);
            color: var(--pure-black);
        }

        #user-input:focus {
            border-color: var(--primary-blue);
            background: var(--pure-white);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .input-hint {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--medium-gray);
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .send-button {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: var(--pure-white);
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.3);
        }

        .send-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.5);
            background: linear-gradient(135deg, var(--secondary-blue), var(--primary-blue));
        }

        .send-button:active {
            transform: scale(0.98);
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 10px 20px;
            background: var(--pure-white);
            border-radius: 20px;
            width: fit-content;
            border: 1px solid var(--light-gray);
            margin-bottom: 10px;
            align-self: flex-start;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: var(--accent-green);
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
        }

        .quick-action-btn {
            padding: 10px 18px;
            background: var(--pure-white);
            border: 1px solid var(--light-gray);
            border-radius: 50px;
            color: var(--dark-gray);
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-action-btn:hover {
            background: var(--primary-blue);
            color: var(--pure-white);
            border-color: var(--primary-blue);
            transform: translateY(-2px);
        }

        /* Footer */
        .footer {
            padding: 15px;
            text-align: center;
            font-size: 0.8rem;
            color: var(--medium-gray);
            background: var(--pure-white);
            border-top: 1px solid var(--light-gray);
        }

        .footer strong {
            color: var(--warning-red);
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .chat-container {
                height: 90vh;
                border-radius: 15px;
            }
            
            .header {
                padding: 15px 20px;
            }
            
            .chat-area {
                padding: 15px;
            }
            
            .message {
                max-width: 85%;
            }
            
            .input-area {
                padding: 15px;
            }
            
            #user-input {
                padding: 15px 20px;
                padding-right: 50px;
            }
        }

        @media (max-width: 480px) {
            .chat-container {
                height: 95vh;
                border-radius: 12px;
            }
            
            .header-text h1 {
                font-size: 1.2rem;
            }
            
            .message {
                max-width: 90%;
                padding: 14px 18px;
            }
            
            .quick-actions {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Background Elements -->
    <div class="bg-circle circle-1"></div>
    <div class="bg-circle circle-2"></div>

    <div class="chat-container">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <div class="logo-container">
                    <div class="logo-icon">
                        <i class="fas fa-stethoscope"></i>
                    </div>
                    <div class="header-text">
                        <h1>MedAI Assistant</h1>
                        <p>Professional Medical Intelligence & Support</p>
                    </div>
                </div>
            </div>
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span>Online & Ready</span>
            </div>
        </div>

        <!-- Chat Area -->
        <div class="chat-area" id="chat-box">
            <div class="message ai-message">
                <div class="message-header">
                    <div class="ai-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <span>MedAI Assistant</span>
                </div>
                <p>Hello! I'm your MedAI Assistant, powered by DeepSeek's advanced AI.</p>
                <p>I can help you with:</p>
                <ul class="recommendation-list">
                    <li>Medical information and explanations</li>
                    <li>Symptom analysis and guidance</li>
                    <li>Medication information</li>
                    <li>Health and wellness advice</li>
                    <li>Medical terminology explanations</li>
                </ul>
                <div class="medical-note">
                    <i class="fas fa-exclamation-triangle"></i>
                    <strong>Important:</strong> I provide educational information only. For medical emergencies, please call emergency services immediately. Always consult with healthcare professionals for personal medical advice.
                </div>
                <p>How can I assist you with your health questions today?</p>
            </div>
            
            <!-- Quick Actions -->
            <div class="quick-actions">
                <button class="quick-action-btn" data-prompt="What are the common symptoms of influenza?">
                    <i class="fas fa-thermometer"></i> Flu Symptoms
                </button>
                <button class="quick-action-btn" data-prompt="How to manage high blood pressure naturally?">
                    <i class="fas fa-heartbeat"></i> Blood Pressure
                </button>
                <button class="quick-action-btn" data-prompt="What are the signs of dehydration?">
                    <i class="fas fa-tint"></i> Dehydration
                </button>
                <button class="quick-action-btn" data-prompt="Explain the difference between COVID-19 and common cold">
                    <i class="fas fa-virus"></i> COVID vs Cold
                </button>
            </div>
        </div>

        <!-- Input Area -->
        <div class="input-area">
            <div class="input-wrapper">
                <input type="text" id="user-input" placeholder="Describe your symptoms or ask a medical question..." autocomplete="off">
                <div class="input-hint">
                    <i class="fas fa-arrow-up"></i> Enter to send
                </div>
            </div>
            <button class="send-button" id="send-btn">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong>Medical Disclaimer:</strong> This AI assistant provides educational information only. Not a substitute for professional medical advice. For emergencies, call your local emergency number immediately.</p>
            <p>Powered by DeepSeek AI • v1.0 • HIPAA-compliant secure processing</p>
        </div>
    </div>

    <script>
        // DOM Elements
        const chatBox = document.getElementById("chat-box");
        const userInput = document.getElementById("user-input");
        const sendBtn = document.getElementById("send-btn");
        const quickActionBtns = document.querySelectorAll(".quick-action-btn");
        
        // Configuration - Using YOUR DeepSeek API Key
        const API_KEY = "sk-af1906c81e144ccbb9b717c8e56af95d";
        const API_URL = "https://api.deepseek.com/chat/completions";
        
        // Typing indicator element
        let typingIndicator = null;
        
        // Medical disclaimer
        const MEDICAL_DISCLAIMER = `<div class="medical-note">
            <i class="fas fa-exclamation-triangle"></i>
            <strong>Medical Disclaimer:</strong> This information is for educational purposes only and is not medical advice. Always consult with a qualified healthcare professional for diagnosis and treatment. For emergencies, call emergency services immediately.
        </div>`;
        
        // Show typing indicator
        function showTypingIndicator() {
            if (typingIndicator) return;
            
            typingIndicator = document.createElement("div");
            typingIndicator.className = "typing-indicator";
            typingIndicator.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <span>MedAI is analyzing your query...</span>
            `;
            chatBox.appendChild(typingIndicator);
            chatBox.scrollTop = chatBox.scrollHeight;
        }
        
        // Hide typing indicator
        function hideTypingIndicator() {
            if (typingIndicator) {
                typingIndicator.remove();
                typingIndicator = null;
            }
        }
        
        // Append message to chat
        function appendMessage(role, text) {
            const messageDiv = document.createElement("div");
            messageDiv.className = `message ${role === "user" ? "user-message" : "ai-message"}`;
            
            const icon = role === "user" ? "fas fa-user" : "fas fa-robot";
            const sender = role === "user" ? "You" : "MedAI Assistant";
            
            messageDiv.innerHTML = `
                <div class="message-header">
                    <div class="${role === "user" ? "user-icon" : "ai-icon"}">
                        <i class="${icon}"></i>
                    </div>
                    <span>${sender}</span>
                </div>
                ${text}
            `;
            
            chatBox.appendChild(messageDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }
        
        // Get AI response from DeepSeek API
        async function getAIResponse(userMessage) {
            showTypingIndicator();
            
            try {
                const response = await fetch(API_URL, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "Authorization": `Bearer ${API_KEY}`
                    },
                    body: JSON.stringify({
                        model: "deepseek-chat",
                        messages: [
                            {
                                role: "system",
                                content: `You are MedAI Assistant, a professional medical AI designed to provide accurate, helpful, and safe medical information. Follow these guidelines:
                                1. Provide clear, evidence-based medical information
                                2. Always include appropriate medical disclaimers
                                3. Never diagnose or prescribe - only educate
                                4. When discussing symptoms, suggest consulting healthcare professionals
                                5. Format responses with clear headings and bullet points when appropriate
                                6. Use medical terminology but explain complex terms
                                7. Prioritize safety and always recommend professional medical consultation
                                8. For emergency symptoms (chest pain, difficulty breathing, severe bleeding), immediately advise calling emergency services`
                            },
                            {
                                role: "user",
                                content: userMessage
                            }
                        ],
                        max_tokens: 1000,
                        temperature: 0.7,
                        stream: false
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`API Error: ${response.status}`);
                }
                
                const data = await response.json();
                
                hideTypingIndicator();
                
                if (data.choices && data.choices.length > 0) {
                    return data.choices[0].message.content + MEDICAL_DISCLAIMER;
                } else {
                    return "I apologize, but I couldn't generate a response. Please try rephrasing your question or try again in a moment." + MEDICAL_DISCLAIMER;
                }
                
            } catch (error) {
                console.error("API Error:", error);
                hideTypingIndicator();
                
                // Fallback to mock responses if API fails
                const mockResponses = [
                    `I understand you're asking about medical information. Based on general medical knowledge, I can provide some educational information. However, for personalized medical advice, please consult with a healthcare professional who can evaluate your specific situation.` + MEDICAL_DISCLAIMER,
                    
                    `Thank you for your medical question. While I can offer general health information, it's important to remember that proper medical evaluation requires a consultation with a healthcare provider who can examine you personally and consider your complete medical history.` + MEDICAL_DISCLAIMER,
                    
                    `That's an important health-related question. I can share general information about this topic, but please understand that medical decisions should always be made in consultation with qualified healthcare professionals who can provide personalized advice based on your specific circumstances.` + MEDICAL_DISCLAIMER
                ];
                
                // Simulate API delay for mock response
                await new Promise(resolve => setTimeout(resolve, 1500));
                return mockResponses[Math.floor(Math.random() * mockResponses.length)];
            }
        }
        
        // Handle sending a message
        async function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;
            
            // Add user message to chat
            appendMessage("user", message);
            userInput.value = "";
            
            // Get AI response
            const aiResponse = await getAIResponse(message);
            
            // Add AI response
            appendMessage("ai", aiResponse);
        }
        
        // Event Listeners
        sendBtn.addEventListener("click", sendMessage);
        
        userInput.addEventListener("keypress", (e) => {
            if (e.key === "Enter") {
                sendMessage();
            }
        });
        
        // Quick action buttons
        quickActionBtns.forEach(btn => {
            btn.addEventListener("click", () => {
                const prompt = btn.getAttribute("data-prompt");
                userInput.value = prompt;
                userInput.focus();
            });
        });
        
        // Focus input on load
        window.addEventListener("load", () => {
            userInput.focus();
        });
        
        // Add welcome tips
        setTimeout(() => {
            if (chatBox.children.length <= 2) {
                appendMessage("ai", 
                    `I'm here to help with your medical questions! You can ask me about:
                    
                    • **Symptoms explanation** - What different symptoms might mean
                    • **Medication information** - How medications work and their uses
                    • **Health conditions** - Information about various medical conditions
                    • **Wellness advice** - General health and prevention tips
                    • **Medical terminology** - Explanations of medical terms
                    
                    Try asking specific questions like "What are the symptoms of diabetes?" or "How does aspirin work?"` + MEDICAL_DISCLAIMER
                );
            }
        }, 2000);
    </script>
</body>
</html>
